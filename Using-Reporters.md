Information about the state of a test run needs to be produced in many different formats depending upon how the user wishes to consume the information. In order to faciliate this, Intern publishes specific information about each stage of a test run using a pub/sub mechanism, and registers reporters that listen for these topics and output information in the correct format.

# Included Reporters

The following reporters are included in a standard Intern installation and can be used by passing the name of the reporter to the `reporters` array:

<table>
<tr>
<th scope="col">Reporter</th>
<th scope="col">Platform</th>
<th scope="col">Description</th>
</tr>

<tr>
<th scope="row">console</th>
<td>client</td>
<td>This reporter outputs test pass/fail messages to the console, grouped by suite.</td>
</tr>

<tr>
<th scope="row">lcov</th>
<td>runner</td>
<td>This reporter generates an <code>lcov.info</code> from collated coverage data.</td>
</tr>

<tr>
<th scope="row">runner</th>
<td>runner</td>
<td>This reporter outputs information to the console about the current state of the runner, code coverage and test results for each environment tested, and a total test result.</td>
</tr>

<tr>
<th scope="row">webdriver</th>
<td>client</td>
<td>This reporter proxies test results from a client back to the test runner via the instrumentation proxy. It also displays very basic running test output as HTML to provide improved state information when watching a test run via Sauce Labs live view.</td>
</tr>
</table>

# Custom reporters

If none of the built-in reporters provide the information you need, you can write a custom reporter and reference it using an absolute module ID (i.e. `myProject/tests/customReporter`). The reporter itself is a single JavaScript object that uses topic names as keys and functions as values:

```js
define([], function () {
	return {
		'/test/start': function (test) {
			console.log(test.id + ' started');
		},
		'/test/end': function (test) {
			console.log(test.id + ' ended');
		}
	};
});
```

Reporters can also include optional `start` and `stop` methods for performing any additional arbitrary work when a reporter is started or stopped:

```js
define([
	'dojo/aspect',
	'intern/lib/Suite'
], function (aspect, Suite) {
	var handles = [];
	return {
		start: function () {
			function augmentJsonValue() {
				/* … */
			}

			handles.push(aspect.after(Suite.prototype, 'toJSON', augmentJsonValue));
		},

		stop: function () {
			var handle;
			while ((handle = handles.pop())) {
				handle.remove();
			}
		}
	}
});
```

## Available reporter topics

<table>
<tr>
<th scope="col">Topic</th>
<th scope="col">Platform</th>
<th scope="col">Parameters</th>
<th scope="col">Description</th>
</tr>

<tr>
<th scope="row">/client/end</th>
<td>client, runner</td>
<td><code>sessionId</code> - a string representing the remote client’s session ID</td>
<td>This method is called when a client has finished executing all of its unit tests. It is used primarily as an indicator to start running functional tests.</td>
</tr>

<tr>
<th scope="row">/coverage</th>
<td>runner</td>
<td><code>sessionId</code> - a string representing the remote environment’s session ID<br>
<code>coverage</code> - an Object containing instrumentation coverage usable by Istanbul</td>
<td>This method is called when code coverage data has been retrieved from an environment under test. This will occur once for each remote environment when all unit tests have completed, and again at the end of each functional suite.</td>
</tr>

<tr>
<th scope="row">/error</th>
<td>runner</td>
<td><code>error</code> - an Error object or string generated by <code>Error#toString()</code></td>
<td>This method is called whenever an error occurs anywhere within Intern. These errors may be test failures, or they may be more serious errors from outside the test code itself.</td>
</tr>

<tr>
<th scope="row">/session/end</th>
<td>runner</td>
<td><code>remote</code> - A PromisedWebDriver instance</td>
<td>This method is called after a test environment has finished running all of its tests and has been cleaned up.</td>
</tr>

<tr>
<th scope="row">/session/start</th>
<td>runner</td>
<td><code>remote</code> - A PromisedWebDriver instance</td>
<td>This method is called after a test environment has been successfully initialised but before it has been instructed to run any tests.</td>
</tr>

<tr>
<th scope="row">/runner/end</th>
<td>runner</td>
<td>(none)</td>
<td>This method is called after the runner has finished running all test suites and is ready to shut down.</td>
</tr>

<tr>
<th scope="row">/runner/start</th>
<td>runner</td>
<td>(none)</td>
<td>This method is called after the runner has finished its configuration process and has started the Sauce Connect server, if one is being used. It is called immediately before the test suite starts running.</td>
</tr>

<tr>
<th scope="row">/suite/end</th>
<td>client, runner</td>
<td><code>suite</code> - A Suite instance</td>
<td>This method is called when a suite has finished running. It is called regardless of whether or not an error has occurred. If an error occurred, it will exist at <code>suite.error</code>. If <code>suite.publishAfterSetup</code> is true, this method will be called <em>before</em> suite teardown occurs; otherwise, it will be called after teardown has completed.</td>
</tr>

<tr>
<th scope="row">/suite/error</th>
<td>client, runner</td>
<td><code>suite</code> - A Suite instance</td>
<td>This method is called when an error occurs within a test suite. The error that was thrown can be found at <code>suite.error</code>.</td>
</tr>

<tr>
<th scope="row">/suite/start</th>
<td>client, runner</td>
<td><code>suite</code> - A Suite instance</td>
<td>This method is called when a suite is about to start executing. If <code>suite.publishAfterSetup</code> is true, this method will be called <em>after</em> suite setup has completed; otherwise, it will be called before setup has started.</td>
</tr>

<tr>
<th scope="row">/suite/new</th>
<td>client, runner</td>
<td><code>suite</code> - A Suite instance</td>
<td>This method is called when new suite is created.</td>
</tr>

<tr>
<th scope="row">/test/end</th>
<td>client, runner</td>
<td><code>test</code> - A Test instance</td>
<td>This method is called after a test has finished executing. The error that caused the failure can be found at <code>test.error</code>.</td>
</tr>

<tr>
<th scope="row">/test/fail</th>
<td>client, runner</td>
<td><code>test</code> - A Test instance</td>
<td>This method is called when a test fails. The error that caused the failure can be found at <code>test.error</code>.</td>
</tr>

<tr>
<th scope="row">/test/new</th>
<td>client, runner</td>
<td><code>test</code> - A Test instance</td>
<td>This method is called when a new test is created.</td>
</tr>

<tr>
<th scope="row">/test/pass</th>
<td>client, runner</td>
<td><code>test</code> - A Test instance</td>
<td>This method is called when a test passes.</td>
</tr>


<tr>
<th scope="row">/test/start</th>
<td>client, runner</td>
<td><code>test</code> - A Test instance</td>
<td>This method is called immediately before a test starts.</td>
</tr>
</table>